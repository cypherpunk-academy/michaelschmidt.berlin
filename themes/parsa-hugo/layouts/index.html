{{ define "main" }} {{ if eq site.Params.layout "1" }}
<!-- featured post -->
<section class="overflow-hidden">
    <div class="container-fluid p-sm-0">
        <div class="row featured-post-slider">
            {{ range (where site.RegularPages "Type" "featured")}}
            <div class="col-lg-3 col-sm-6 mb-2 mb-lg-0 px-1">
                <article
                    class="card bg-dark text-center text-white border-0 rounded-0"
                >
                    <img
                        class="card-img rounded-0 img-fluid w-100"
                        src="{{.Params.Image | absURL}}"
                        alt="post-thumb"
                    />
                    <div class="card-img-overlay">
                        <div class="card-content">
                            <p class="text-uppercase">
                                {{range .Params.Categories}}{{. |
                                humanize}}{{end}}
                            </p>
                            <h4 class="card-title mb-4">
                                <a class="text-white" href="{{.Permalink}}"
                                    >{{.Title}}</a
                                >
                            </h4>
                            <a
                                class="btn btn-outline-light"
                                href="{{.Permalink}}"
                                >{{ site.Params.readmore }}</a
                            >
                        </div>
                    </div>
                </article>
            </div>
            {{ end }}
        </div>
    </div>
</section>
<!-- /featured post -->

{{ else if (eq site.Params.layout "2")}}
<!-- hero area -->
<section class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 align-self-end">
                <h1 class="mb-0">Welcome</h1>
                <h2 class="mb-100 title-border-lg">
                    to <i>{{site.Params.author}} Blog</i>
                </h2>
                <p class="mb-80 mr-5">{{site.Params.bio | markdownify }}</p>
                <span class="font-secondary text-dark mr-3 mr-sm-5"
                    >Follow me :</span
                >
                <ul class="list-inline d-inline-block mb-5">
                    {{ range site.Params.social }}
                    <li class="list-inline-item mx-3">
                        <a href="{{ .link | safeURL }}" class="text-dark"
                            ><i class="{{.icon}}"></i
                        ></a>
                    </li>
                    {{ end }}
                </ul>
            </div>
            <div class="col-lg-6 text-right">
                <img
                    class="img-fluid"
                    src="{{site.Params.author_image | absURL}}"
                    alt="banner-image"
                />
            </div>
        </div>
    </div>
</section>
<!-- /hero area -->

{{ else }}
<section class="section">
    <div class="container text-center">
        <h1>
            Please Enter A Valid Homepage Layout Number <br />
            (1 or 2)
        </h1>
    </div>
</section>
{{ end }}

{{ $homepagePages := sort (where site.RegularPages "Section" "homepage") "Weight"
"asc" }} {{ $weightedPages := where $homepagePages "Weight" "gt" 0 }} {{
$priorityHome := $weightedPages }} {{ if eq (len $priorityHome) 0 }} {{
$priorityHome = $homepagePages }} {{ end }} {{ if gt (len $priorityHome) 0 }} {{
$homePage := index $priorityHome 0 }}
<section class="section priority-homepage">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2 class="mb-4">{{ $homePage.Title }}</h2>
                {{ if and $homePage.Params.image (not
                ($homePage.Params.omitImage | default false)) }}
                <img
                    src="{{ $homePage.Params.image | absURL }}"
                    alt="{{ site.Params.author }}"
                    class="img-fluid w-100 mb-4"
                />
                {{ end }}
                <div class="content">{{ $homePage.Content }}</div>
                <a class="btn btn-transparent mt-4" href="{{ $homePage.Permalink }}"
                    >{{ site.Params.readmore }}</a
                >
            </div>
        </div>
    </div>
</section>
{{ end }}

{{partial "instafeed.html" . }} {{ end }}
